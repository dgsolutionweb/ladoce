import{f as S,j as s,c as y,a0 as R,a8 as A,a9 as H,a as G,X as B,Y as T,aa as k,$ as L,r as f,ab as O,ac as $,ad as V,b as X,d as Y,y as q,M as W,z as J,t as E,A as K,v as Q,V as U,D as v,E as w,ae as Z,af as ee,J as N,w as se,B as b}from"./index-YGpXjSOi.js";function ae(a,t){const e={},i={};for(const[r,l]of Object.entries(a))t.includes(r)?e[r]=l:i[r]=l;return[e,i]}const D=S(function(t,e){const{templateAreas:i,gap:r,rowGap:l,columnGap:n,column:c,row:m,autoFlow:d,autoRows:p,templateRows:h,autoColumns:g,templateColumns:j,...u}=t,x={display:"grid",gridTemplateAreas:i,gridGap:r,gridRowGap:l,gridColumnGap:n,gridAutoColumns:g,gridColumn:c,gridRow:m,gridAutoFlow:d,gridAutoRows:p,gridTemplateRows:h,gridTemplateColumns:j};return s.jsx(y.div,{ref:e,__css:x,...u})});D.displayName="Grid";const te=S(function(t,e){const{columns:i,spacingX:r,spacingY:l,spacing:n,minChildWidth:c,...m}=t,d=R(),p=c?ie(c,d):re(i);return s.jsx(D,{ref:e,gap:n,columnGap:r,rowGap:l,templateColumns:p,...m})});te.displayName="SimpleGrid";function oe(a){return typeof a=="number"?`${a}px`:a}function ie(a,t){return A(a,e=>{const i=H("sizes",e,oe(e))(t);return e===null?null:`repeat(auto-fit, minmax(${i}, 1fr))`})}function re(a){return A(a,t=>t===null?null:`repeat(${t}, minmax(0, 1fr))`)}const I=S(function(t,e){const{children:i,placeholder:r,className:l,...n}=t;return s.jsxs(y.select,{...n,ref:e,className:G("chakra-select",l),children:[r&&s.jsx("option",{value:"",children:r}),i]})});I.displayName="SelectField";const M=S((a,t)=>{var _;const e=B("Select",a),{rootProps:i,placeholder:r,icon:l,color:n,height:c,h:m,minH:d,minHeight:p,iconColor:h,iconSize:g,...j}=T(a),[u,x]=ae(j,O),o=k(x),C={width:"100%",height:"fit-content",position:"relative",color:n},F={paddingEnd:"2rem",...e.field,_focus:{zIndex:"unset",...(_=e.field)==null?void 0:_._focus}};return s.jsxs(y.div,{className:"chakra-select__wrapper",__css:C,...u,...i,children:[s.jsx(I,{ref:t,height:m??c,minH:d??p,placeholder:r,...o,__css:F,children:a.children}),s.jsx(P,{"data-disabled":L(o.disabled),...(h||n)&&{color:h||n},__css:e.icon,...g&&{fontSize:g},children:l})]})});M.displayName="Select";const le=a=>s.jsx("svg",{viewBox:"0 0 24 24",...a,children:s.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),ne=y("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),P=a=>{const{children:t=s.jsx(le,{}),...e}=a,i=f.cloneElement(t,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return s.jsx(ne,{...e,className:"chakra-select__icon-wrapper",children:f.isValidElement(t)?i:null})};P.displayName="SelectIcon";const ce=["h","minH","height","minHeight"],z=S((a,t)=>{const e=$("Textarea",a),{className:i,rows:r,...l}=T(a),n=k(l),c=r?V(e,ce):e;return s.jsx(y.textarea,{ref:t,rows:r,...n,className:G("chakra-textarea",i),__css:c})});z.displayName="Textarea";const de=["Matéria Prima","Embalagens","Equipamentos","Marketing","Entrega","Funcionários","Impostos","Aluguel","Água","Luz","Internet","Outros"],me=({isOpen:a,onClose:t,currentExpense:e})=>{const[i,r]=f.useState((e==null?void 0:e.description)||""),[l,n]=f.useState((e==null?void 0:e.amount.toString())||""),[c,m]=f.useState((e==null?void 0:e.date)||new Date().toISOString().split("T")[0]),[d,p]=f.useState((e==null?void 0:e.category)||""),{addExpense:h,updateExpense:g,loading:j}=X(),u=Y(),x=async()=>{try{const o=parseFloat(l);if(isNaN(o)||o<=0){u({title:"Erro",description:"Por favor, insira um valor válido maior que zero",status:"error",duration:3e3,isClosable:!0});return}if(!i.trim()||!d){u({title:"Erro",description:"Por favor, preencha todos os campos",status:"error",duration:3e3,isClosable:!0});return}const C={description:i.trim(),amount:o,date:c,category:d};e?await g({...C,id:e.id}):await h(C),u({title:e?"Despesa atualizada":"Despesa registrada",description:e?"A despesa foi atualizada com sucesso":"A despesa foi registrada com sucesso",status:"success",duration:3e3,isClosable:!0}),t()}catch(o){u({title:"Erro",description:o instanceof Error?o.message:"Erro ao registrar despesa",status:"error",duration:3e3,isClosable:!0})}};return s.jsxs(q,{isOpen:a,onClose:t,children:[s.jsx(W,{}),s.jsxs(J,{children:[s.jsx(E,{children:e?"Editar Despesa":"Nova Despesa"}),s.jsx(K,{}),s.jsx(Q,{children:s.jsxs(U,{spacing:4,children:[s.jsxs(v,{children:[s.jsx(w,{children:"Descrição"}),s.jsx(z,{value:i,onChange:o=>r(o.target.value),placeholder:"Descreva a despesa"})]}),s.jsxs(v,{children:[s.jsx(w,{children:"Categoria"}),s.jsx(M,{placeholder:"Selecione a categoria",value:d,onChange:o=>p(o.target.value),children:de.map(o=>s.jsx("option",{value:o,children:o},o))})]}),s.jsxs(v,{children:[s.jsx(w,{children:"Valor"}),s.jsxs(Z,{children:[s.jsx(ee,{children:"R$"}),s.jsx(N,{type:"number",step:"0.01",min:"0",value:l,onChange:o=>n(o.target.value),placeholder:"0.00"})]})]}),s.jsxs(v,{children:[s.jsx(w,{children:"Data"}),s.jsx(N,{type:"date",value:c,onChange:o=>m(o.target.value)})]})]})}),s.jsxs(se,{children:[s.jsx(b,{variant:"ghost",mr:3,onClick:t,children:"Cancelar"}),s.jsx(b,{colorScheme:"purple",onClick:x,isLoading:j,children:e?"Atualizar":"Salvar"})]})]})]})};export{me as E,te as S,M as a};
